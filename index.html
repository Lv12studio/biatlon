<!DOCTYPE html>
<html lang="cs">
<head>
nav≈°tivte lv12studio.github.io/HV/
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biatlon</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }
        
        body {
            background: #0a1a1f;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        #game {
            background: #1c3a45;
            border-radius: 30px;
            padding: 20px;
            width: 100%;
            max-width: 900px;
            border: 3px solid #3d6e80;
            box-shadow: 0 15px 0 #0e2a30, 0 20px 30px black;
        }
        
        #levelInfo {
            text-align: center;
            color: gold;
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 0 2px 0 #0a1a1f;
        }
        
        #stats {
            background: #14303a;
            border-radius: 25px;
            padding: 15px;
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border: 2px solid #3d6e80;
        }
        
        .player {
            flex: 1;
            padding: 15px;
            border-radius: 20px;
            text-align: center;
            transition: all 0.2s;
        }
        
        #p1.active { background: #1d5a7a; box-shadow: 0 0 0 3px gold; }
        #p2.active { background: #7a3d3d; box-shadow: 0 0 0 3px gold; }
        
        #p1 { background: #1d4a63; }
        #p2 { background: #633333; }
        
        .player div {
            color: white;
            font-size: 2em;
            font-weight: bold;
        }
        
        .player span {
            color: #ffd966;
            font-size: 1.3em;
        }
        
        #targets {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .target {
            width: 90px;
            height: 90px;
            background: #2a2a2a;
            border-radius: 50%;
            border: 6px solid #1a1a1a;
            box-shadow: 0 8px 0 #0f0f0f, inset 0 0 0 8px #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.8em;
            font-weight: bold;
            color: #ffaa33;
            text-shadow: 2px 2px 0 #000;
            cursor: pointer;
            position: relative;
            transition: all 0.1s;
        }
        
        .target::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.2), transparent 70%);
            pointer-events: none;
        }
        
        .target small {
            position: absolute;
            bottom: -30px;
            font-size: 0.6em;
            color: gold;
            background: #0a1a1f;
            padding: 4px 12px;
            border-radius: 20px;
            border: 2px solid gold;
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        .target:active {
            transform: translateY(4px);
            box-shadow: 0 4px 0 #0f0f0f, inset 0 0 0 8px #f0f0f0;
        }
        
        .target.selected {
            border-color: gold;
            box-shadow: 0 0 20px gold, 0 8px 0 #0f0f0f, inset 0 0 0 8px #f0f0f0;
            transform: scale(1.05);
        }
        
        .target.selected::after {
            content: 'üí•';
            position: absolute;
            font-size: 2em;
            color: orange;
            text-shadow: 0 0 10px red;
            animation: explosion 0.3s ease-out;
        }
        
        @keyframes explosion {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }
        
        #wordBox {
            background: #e8f0f8;
            border-radius: 40px;
            padding: 30px;
            margin: 30px 0 20px;
            border: 4px solid #2d5a6b;
            text-align: center;
        }
        
        #word {
            font-size: 5em;
            font-weight: 800;
            letter-spacing: 10px;
            color: #0a1a1f;
            line-height: 1.2;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            word-break: break-word;
        }
        
        #hint {
            color: #2d5a6b;
            font-size: 1.5em;
            margin-top: 5px;
        }
        
        #message {
            background: #0f232b;
            color: white;
            font-size: 1.5em;
            padding: 15px;
            border-radius: 20px;
            text-align: center;
            margin: 15px 0;
            min-height: 80px;
            border: 2px solid #3d6e80;
        }
        
        #track {
            background: #2a4a55;
            height: 40px;
            border-radius: 20px;
            margin: 15px 0;
            overflow: hidden;
            border: 3px solid #5d8a9a;
        }
        
        #progress {
            height: 100%;
            width: 0%;
            background: #ffaa33;
            transition: width 0.1s;
            box-shadow: 0 0 10px #ffaa33;
        }
        
        #timer {
            color: #ffd966;
            font-size: 2.5em;
            text-align: center;
            font-weight: bold;
            margin: 5px 0;
            font-family: monospace;
            text-shadow: 0 0 10px rgba(255,215,0,0.5);
        }
        
        #controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 10px 0;
            color: #ffd966;
            font-size: 1.2em;
            flex-wrap: wrap;
        }
        
        .key {
            background: #2d5a6b;
            padding: 8px 18px;
            border-radius: 30px;
            border: 2px solid gold;
            color: white;
            font-weight: bold;
            box-shadow: 0 4px 0 #1a3a45;
        }
        
        #start {
            background: #3d9e4a;
            color: white;
            font-size: 2.5em;
            padding: 20px;
            border: none;
            border-radius: 50px;
            width: 100%;
            font-weight: bold;
            box-shadow: 0 8px 0 #1e5724;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.1s;
            text-transform: uppercase;
            letter-spacing: 3px;
        }
        
        #start:active {
            transform: translateY(4px);
            box-shadow: 0 4px 0 #1e5724;
        }
        
        #start:disabled {
            opacity: 0.5;
            transform: translateY(4px);
            box-shadow: 0 4px 0 #1e5724;
            pointer-events: none;
        }
        
        @media (max-width: 600px) {
            .target {
                width: 70px;
                height: 70px;
                font-size: 2em;
                border-width: 4px;
                inset-shadow: 0 0 0 6px #f0f0f0;
            }
            
            #word {
                font-size: 3em;
            }
        }
    </style>
</head>
<body>
    <div id="game">
        <div id="levelInfo">√öROVE≈á 1/5 ‚Ä¢ HRAJE HR√Åƒå 1</div>
        
        <div id="stats">
            <div class="player" id="p1">
                <div id="p1score">0</div>
                <span id="p1time">0.0s</span>
            </div>
            <div class="player" id="p2">
                <div id="p2score">0</div>
                <span id="p2time">0.0s</span>
            </div>
        </div>
        
        <div id="targets">
            <div class="target" onclick="shoot('i')">i<small>V</small></div>
            <div class="target" onclick="shoot('√≠')">√≠<small>B</small></div>
            <div class="target" onclick="shoot('y')">y<small>N</small></div>
            <div class="target" onclick="shoot('√Ω')">√Ω<small>M</small></div>
        </div>
        
        <div id="wordBox">
            <div id="word"></div>
            <div id="hint"></div>
        </div>
        
        <div id="message">Stiskni START nebo MEZERN√çK</div>
        
        <div id="track">
            <div id="progress"></div>
        </div>
        
        <div id="timer">0.0s</div>
        
        <div id="controls">
            <span class="key">V = i</span>
            <span class="key">B = √≠</span>
            <span class="key">N = y</span>
            <span class="key">M = √Ω</span>
            <span class="key">MEZERN√çK = START</span>
            <span class="key">PODPIS: PLOC, KARL, KONEƒåN√ù</span>
        </div>
        
        <button id="start" onclick="startGame()">START</button>
    </div>
    <script>
        // 5 √öROVN√ç - ka≈æd√° 6 slov
        const levels = [
            {   // √örove≈à 1
                words: [
                    { w: 'b_l√Ω', h: 'barva', c: '√≠' },
                    { w: 'Pepa je mal_', h: 'nen√≠ velk√Ω', c: '√Ω' },
                    { w: 'l_≈°ka', h: 'zv√≠≈ôe', c: 'i' },
                    { w: 'm_≈°', h: 'hlodavec', c: 'y' },
                    { w: 's_r', h: 'ml√©ƒçn√Ω v√Ωrobek', c: '√Ω' },
                    { w: 'v_sok√Ω', h: 'opaƒçn√© k n√≠zk√Ω', c: 'y' }
                ]
            },
            {   // √örove≈à 2
                words: [
                    { w: 'ch_tr√Ω', h: 'inteligentn√≠', c: 'y' },
                    { w: 'z_ma', h: 'nejchladnƒõj≈°√≠ obdob√≠', c: 'i' },
                    { w: 'snƒõhul√°c_', h: 'snƒõhov√Ω pan√°ci', c: 'i' },
                    { w: 'p_snƒõ', h: 'p√≠≈°ou a zp√≠vaj√≠ se', c: '√≠' },
                    { w: 'kisel_ jogurt', h: ' ', c: '√Ω' },
                    { w: 'm_≈°lenka', h: 'n√°pad', c: 'y' }
                ]
            },
            {   // √örove≈à 3
                words: [
                    { w: 'st≈Øl je n√≠zk_', h: 'mal√Ω', c: '√Ω' },
                    { w: 'v_stup', h: 'stoup√°n√≠', c: '√Ω' },
                    { w: 'kr√°sn√Ω b_t', h: ' ', c: 'y' },
                    { w: 'm_t', h: 'ƒçistit', c: '√Ω' },
                    { w: 'ps_ ≈°tƒõkaj√≠', h: ' ', c: 'i' },
                    { w: 'p_vo', h: 'n√°poj', c: 'i' }
                ]
            },
            {   // √örove≈à 4
                words: [
                    { w: 'v_bƒõr', h: ' ', c: '√Ω' },
                    { w: 'n_v≈°tƒõva', h: ' ', c: '√°' },
                    { w: 'c_bul', h: ' ', c: 'i' },
                    { w: 'k_che', h: ' ', c: 'u' },
                    { w: 'd_lna', h: ' ', c: '√≠' },
                    { w: 'm√° kamar√°d_', h: ' ', c: 'y' }
                ]
            },
            {   // √örove≈à 5
                words: [
                    { w: 'top_t', h: ' ', c: 'i' },
                    { w: 'hodin_', h: ' ', c: 'y' },
                    { w: 'v_pis', h: ' ', c: '√Ω' },
                    { w: 'v_klad', h: ' ', c: '√Ω' },
                    { w: 'p_klad', h: ' ', c: '≈ôi' },
                    { w: 'v√≠tr drak_ odfoukl', h: ' ', c: 'y' }
                ]
            }
        ];
        
        // Hern√≠ promƒõnn√©
        let p1score = 0, p2score = 0;
        let p1time = 0, p2time = 0;
        let currentPlayer = 1;
        let currentLevel = 0;
        let currentIndex = 0;
        let levelWords = [];
        let gameActive = false;
        let canShoot = false;
        let raceTimer;
        let raceTime = 0;
        let isRacing = false;
        let gameStartTime = 0;
        let lastUpdateTime = 0;
        let player1Finished = false;
        let player2Finished = false;
        const RACE_DURATION = 2;
        
        // DOM elementy
        const levelInfo = document.getElementById('levelInfo');
        const p1Div = document.getElementById('p1');
        const p2Div = document.getElementById('p2');
        const p1scoreEl = document.getElementById('p1score');
        const p2scoreEl = document.getElementById('p2score');
        const p1timeEl = document.getElementById('p1time');
        const p2timeEl = document.getElementById('p2time');
        const wordEl = document.getElementById('word');
        const hintEl = document.getElementById('hint');
        const messageEl = document.getElementById('message');
        const progressEl = document.getElementById('progress');
        const timerEl = document.getElementById('timer');
        const startBtn = document.getElementById('start');
        const targets = document.querySelectorAll('.target');
        
        // Funkce pro zam√≠ch√°n√≠ pole
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // Funkce pro aktualizaci ƒçasu
        function updateGameTime() {
            if (!gameActive) return;
            
            const now = Date.now();
            const delta = (now - lastUpdateTime) / 1000;
            lastUpdateTime = now;
            
            if (currentPlayer === 1) {
                p1time += delta;
                p1timeEl.textContent = p1time.toFixed(1) + 's';
                timerEl.textContent = p1time.toFixed(1) + 's';
            } else {
                p2time += delta;
                p2timeEl.textContent = p2time.toFixed(1) + 's';
                timerEl.textContent = p2time.toFixed(1) + 's';
            }
            
            requestAnimationFrame(updateGameTime);
        }
        
        // Ovl√°d√°n√≠ kl√°vesnic√≠
        document.addEventListener('keydown', (e) => {
            const key = e.key.toLowerCase();
            
            // START na mezern√≠k - v≈ædy funguje, kdy≈æ je hra neaktivn√≠ a tlaƒç√≠tko nen√≠ disabled
            if (key === ' ') {
                e.preventDefault();
                // Kontrola, zda je tlaƒç√≠tko START dostupn√© (nen√≠ disabled)
                if (!gameActive && !startBtn.disabled) {
                    startGame();
                }
                return;
            }
            
            if (!gameActive || !canShoot || isRacing) return;
            
            if (key === 'v') shoot('i');
            else if (key === 'b') shoot('√≠');
            else if (key === 'n') shoot('y');
            else if (key === 'm') shoot('√Ω');
        });
        
        function updateActivePlayer() {
            if (currentPlayer === 1) {
                p1Div.classList.add('active');
                p2Div.classList.remove('active');
            } else {
                p2Div.classList.add('active');
                p1Div.classList.remove('active');
            }
        }
        
        function updateLevelInfo() {
            levelInfo.textContent = `√öROVE≈á ${currentLevel + 1}/5 ‚Ä¢ HRAJE HR√Åƒå ${currentPlayer}`;
        }
        
        function loadLevel() {
            if (currentPlayer === 1) {
                // Hr√°ƒç 1 hraje slova v p≈Øvodn√≠m po≈ôad√≠
                levelWords = levels[currentLevel].words;
            } else {
                // Hr√°ƒç 2 hraje stejn√° slova, ale zam√≠chan√°
                levelWords = shuffleArray(levels[currentLevel].words);
            }
            currentIndex = 0;
            updateLevelInfo();
            showWord();
        }
        
        function showWord() {
            if (currentIndex < levelWords.length) {
                wordEl.textContent = levelWords[currentIndex].w;
                hintEl.textContent = levelWords[currentIndex].h;
                
                targets.forEach(t => t.classList.remove('selected'));
                
                canShoot = true;
                messageEl.textContent = `Hr√°ƒç ${currentPlayer} - vyber p√≠smeno`;
            } else {
                // Konec √∫rovnƒõ
                if (currentPlayer === 1) {
                    if (currentLevel < levels.length - 1) {
                        currentLevel++;
                        loadLevel();
                    } else {
                        // Hr√°ƒç 1 dokonƒçil v≈°echny √∫rovnƒõ
                        gameActive = false;
                        player1Finished = true;
                        startBtn.disabled = false;
                        startBtn.textContent = 'START HR√Åƒå 2';
                        messageEl.innerHTML = `Hr√°ƒç 1 skonƒçil!<br>ƒåas: ${p1time.toFixed(1)}s<br>Stiskni START pro Hr√°ƒçe 2`;
                        levelInfo.textContent = 'HR√Åƒå 1 DOKONƒåIL';
                    }
                } else {
                    if (currentLevel < levels.length - 1) {
                        currentLevel++;
                        loadLevel();
                    } else {
                        // Hr√°ƒç 2 dokonƒçil v≈°echny √∫rovnƒõ - KONEC
                        gameActive = false;
                        player2Finished = true;
                        startBtn.disabled = false;
                        startBtn.textContent = 'HR√ÅT ZNOVU';
                        
                        if (p1time < p2time) {
                            messageEl.innerHTML = `üèÜ V√çTƒöZ√ç HR√Åƒå 1!<br>${p1time.toFixed(1)}s : ${p2time.toFixed(1)}s`;
                        } else if (p1time > p2time) {
                            messageEl.innerHTML = `üèÜ V√çTƒöZ√ç HR√Åƒå 2!<br>${p2time.toFixed(1)}s : ${p1time.toFixed(1)}s`;
                        } else {
                            messageEl.innerHTML = `ü§ù REM√çZA!<br>${p1time.toFixed(1)}s : ${p2time.toFixed(1)}s`;
                        }
                        
                        wordEl.textContent = 'KONEC';
                        hintEl.textContent = '';
                        levelInfo.textContent = 'KONEC HRY';
                    }
                }
            }
        }
        
        function shoot(letter) {
            if (!gameActive || !canShoot || isRacing) return;
            
            const correct = levelWords[currentIndex].c;
            const isCorrect = (letter === correct);
            
            targets.forEach(t => {
                if (t.textContent.includes(letter)) {
                    t.classList.add('selected');
                }
            });
            
            if (isCorrect) {
                messageEl.textContent = 'üéØ TREFA!';
                if (currentPlayer === 1) {
                    p1score++;
                    p1scoreEl.textContent = p1score;
                } else {
                    p2score++;
                    p2scoreEl.textContent = p2score;
                }
                
                currentIndex++;
                showWord();
            } else {
                messageEl.textContent = '‚ùå VEDLE!';
                currentIndex++;
                canShoot = false;
                startRace();
            }
        }
        
        function startRace() {
            isRacing = true;
            raceTime = 0;
            progressEl.style.width = '0%';
            
            raceTimer = setInterval(() => {
                raceTime += 0.1;
                const percent = (raceTime / RACE_DURATION) * 100;
                progressEl.style.width = percent + '%';
                
                if (raceTime >= RACE_DURATION) {
                    clearInterval(raceTimer);
                    isRacing = false;
                    showWord();
                }
            }, 100);
        }
        
        function startGame() {
            if (!player1Finished) {
                // Start Hr√°ƒçe 1
                p1score = 0;
                p1time = 0;
                currentPlayer = 1;
                currentLevel = 0;
                
                p1scoreEl.textContent = '0';
                p1timeEl.textContent = '0.0s';
                p2scoreEl.textContent = '0';
                p2timeEl.textContent = '0.0s';
                
                messageEl.textContent = 'Hr√°ƒç 1 - vyber p√≠smeno';
                startBtn.textContent = 'START';
            } else if (!player2Finished) {
                // Start Hr√°ƒçe 2
                p2score = 0;
                p2time = 0;
                currentPlayer = 2;
                currentLevel = 0;
                
                p2scoreEl.textContent = '0';
                p2timeEl.textContent = '0.0s';
                
                messageEl.textContent = 'Hr√°ƒç 2 - vyber p√≠smeno';
                startBtn.textContent = 'START';
            } else {
                // Restart cel√© hry
                player1Finished = false;
                player2Finished = false;
                p1score = 0;
                p2score = 0;
                p1time = 0;
                p2time = 0;
                currentPlayer = 1;
                currentLevel = 0;
                
                p1scoreEl.textContent = '0';
                p2scoreEl.textContent = '0';
                p1timeEl.textContent = '0.0s';
                p2timeEl.textContent = '0.0s';
                
                messageEl.textContent = 'Hr√°ƒç 1 - vyber p√≠smeno';
                startBtn.textContent = 'START';
            }
            
            progressEl.style.width = '0%';
            timerEl.textContent = '0.0s';
            
            updateActivePlayer();
            loadLevel();
            
            gameActive = true;
            startBtn.disabled = true;
            
            lastUpdateTime = Date.now();
            requestAnimationFrame(updateGameTime);
        }
    </script>
</body>
</html>
